import{d as q,r as u,f as w,o as B,g as C,c as n,a as e,h as R,w as N,v as V,i as r,j as y,k as h,F as L,l as D,t as d,s as E,b as F,e as l}from"./index-De2LwMbB.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"results-page"},j={class:"results-header"},z={class:"header-content"},A={class:"header-search"},I={class:"results-main"},K={class:"results-container"},P={key:0,class:"loading-state"},U={key:1,class:"results-list"},W={class:"result-title"},G={class:"result-desc"},H=["href"],J={key:2,class:"empty-state"},O=q({__name:"SearchResults",setup(Q){const p=C(),_=F(),a=u(""),c=u([]),i=u(!1),v=async s=>{if(s){i.value=!0,c.value=[];try{const t=await E.search(s);t.code===200&&(c.value=t.data||[])}catch(t){console.error("Search error:",t)}finally{i.value=!1}}},f=()=>{const s=a.value.trim();s&&_.push({path:"/search/results",query:{q:s}})},g=s=>{s.key==="Enter"&&f()},k=()=>{_.push("/")};return w(()=>p.query.q,s=>{s&&(a.value=s,v(s))},{immediate:!0}),B(()=>{const s=p.query.q;s&&(a.value=s,v(s))}),(s,t)=>{const x=h("Loading"),m=h("el-icon"),S=h("Search");return l(),n("div",T,[e("header",j,[e("div",z,[e("div",{class:"logo",onClick:k},[...t[1]||(t[1]=[R('<div class="logo-icons" data-v-8e2d8d52><span class="icon-box orange" data-v-8e2d8d52></span><span class="icon-box blue at" data-v-8e2d8d52>@</span></div><div class="logo-text" data-v-8e2d8d52><span class="bw" data-v-8e2d8d52>BW</span><span class="search-text" data-v-8e2d8d52>Search</span></div>',2)])]),e("div",A,[N(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a.value=o),type:"text",class:"search-input",onKeydown:g},null,544),[[V,a.value]]),e("button",{class:"search-btn",onClick:f},"搜索")])])]),e("main",I,[e("div",K,[i.value?(l(),n("div",P,[r(m,{class:"is-loading"},{default:y(()=>[r(x)]),_:1}),t[2]||(t[2]=e("span",null,"Searching...",-1))])):c.value.length>0?(l(),n("div",U,[(l(!0),n(L,null,D(c.value,(o,b)=>(l(),n("div",{key:b,class:"result-item"},[e("h3",W,d(o.title),1),e("p",G,d(o.description),1),e("a",{class:"result-url",href:o.url},d(o.url),9,H)]))),128))])):(l(),n("div",J,[r(m,{size:64,color:"#cccccc"},{default:y(()=>[r(S)]),_:1}),e("p",null,'No results found for "'+d(a.value)+'"',1),t[3]||(t[3]=e("p",{class:"hint"},"Try different keywords",-1))]))])])])}}}),Z=M(O,[["__scopeId","data-v-8e2d8d52"]]);export{Z as default};
